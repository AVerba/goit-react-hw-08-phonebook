{"version":3,"file":"static/js/190.5febb393.chunk.js","mappings":"0LACA,MAA0F,oCAA1F,EAAqI,2BAArI,EAAgL,oC,kGCKhL,EAFc,CAAEA,UAJE,yHAISC,YAFzB,sH,oBCDF,EAA8B,iC,SCgBjBC,EAAc,WACzB,OAAoCC,EAAAA,EAAAA,WAAS,GAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAoCC,EAAAA,EAAAA,MAAtBC,EAAd,EAAQC,KAAgBC,EAAxB,EAAwBA,QACxB,GACEC,EAAAA,EAAAA,MADF,eAAOC,EAAP,YAAgCC,EAAhC,EAAqBC,UAAkCC,EAAvD,EAA4CC,UAO5C,GAA0CZ,EAAAA,EAAAA,UALxB,CAChBa,KAAM,GACNC,OAAQ,KAGV,eAAOC,EAAP,KACMC,GADN,KACyBC,EAAAA,KAAaC,MAAM,CAC1CL,KAAMI,EAAAA,KACHE,SAAS,oBACTC,IAAI,EAAG,sCACPC,IAAI,GAAI,sCACRC,QACCC,EAAAA,UACA,8DAEJT,OAAQG,EAAAA,KAAaK,QACnBC,EAAAA,YACA,gEAGJ,GAKIC,EAAAA,EAAAA,IAAQ,CACVC,KAAM,YACNC,eAAgB,WAChBC,cAAeZ,EACfa,UAAUC,EAAAA,EAAAA,GAAYb,KARtBc,EADF,EACEA,SACAC,EAFF,EAEEA,WACAC,EAHF,EAGEA,aACaC,EAJf,EAIEC,UAAaD,OAgDf,OACE,gBAAKE,UAAWC,EAAhB,UACE,UAACC,EAAA,EAAD,CAAMC,SAAUN,GAxBH,SAAC3B,EAAMkC,GACtBA,EAAEC,iBACF,IAAQ3B,EAAiBR,EAAjBQ,KAAMC,EAAWT,EAAXS,OACdyB,EAAEC,iBAEF,IAAMC,EAAU,CACdC,GAAIC,IAAAA,WACJ9B,KAAAA,EACAC,OAAAA,GAEEH,GACFiC,EAAAA,OAAAA,QAAA,kBAA0BvC,EAAKQ,KAA/B,wBAEFL,EAAWiC,GACXnC,IAjBAyB,EAAW,QACXA,EAAW,aAoBG,SAAAc,GACdC,QAAQC,IAAI,WAAYF,MAKtB,WACE,UAACR,EAAA,QAAD,CACEF,UAAU,OACVa,UAAU,oBACVC,SAAU,SAAAV,IA9CK,SAAAA,GACrB,IAAM1B,EAAO0B,EAAEW,cAAcC,WAAW,GAAGC,MAM3C,GALsBhD,EAASiD,MAC7B,SAAAZ,GAAO,OACLA,EAAQ5B,KAAKyC,gBACbzC,EAAKyC,cAAcC,QAAQ,MAAO,KAAKC,UAIzC,OADAtD,GAAc,GACP0C,EAAAA,OAAAA,QAAA,UAAkB/B,EAAlB,6BAETX,GAAc,GAoCNuD,CAAelB,IAJnB,WAOE,SAACF,EAAA,QAAD,4BACA,SAACA,EAAA,WAAD,QACEqB,KAAK,OACLC,YAAY,sBACR7B,EAAS,UAEdG,EAAOpB,OACN,SAACwB,EAAA,OAAD,CAAWF,UAAU,cAArB,SAAoCF,EAAOpB,KAAK+C,cAIpD,UAACvB,EAAA,QAAD,CAAYF,UAAU,OAAOa,UAAU,uBAAvC,WACE,SAACX,EAAA,QAAD,4BACA,SAACA,EAAA,WAAD,QACEqB,KAAK,OACLC,YAAY,8BACR7B,EAAS,YAEdG,EAAOnB,SACN,SAACuB,EAAA,OAAD,CAAWF,UAAU,cAArB,SACGF,EAAOnB,OAAO8C,cAIrB,SAACC,EAAA,EAAD,CACEC,QAAQ,UACRJ,KAAK,SACLK,SAAU9D,EAHZ,SAMGQ,GAAa,6CAAiB,sDCrIzC,EAA4B,6B,mBCGfuD,EAAY,SAAC,GAA6B,IAA3B7B,EAA0B,EAA1BA,UAAW8B,EAAe,EAAfA,SAC/BC,EAAYC,GAAAA,CAAG/B,EAAkBD,GACvC,OAAO,gBAAKA,UAAW+B,EAAhB,SAA4BD,KCLrC,GAAgB,SAAW,+BAA+B,KAAO,4B,8BCWpDG,EAAc,WACzB,OAAqCjE,EAAAA,EAAAA,MAA7BE,EAAR,EAAQA,KAAMK,EAAd,EAAcA,UAAWJ,EAAzB,EAAyBA,QACzB,GAAmD+D,EAAAA,EAAAA,MAAnD,eAAOC,EAAP,KAAmCC,EAAnC,KAAwB7D,UAChB8D,GAAWC,EAAAA,EAAAA,IAAYC,EAAAA,IAAvBF,QACRG,EAAAA,EAAAA,YAAU,WACRrE,MACC,CAACA,KAQJqE,EAAAA,EAAAA,YAAU,cAAU,CAACrE,IACrB,IAKIsE,EAA0B,KAAXJ,EAAgBnE,EAJ1BA,EAAKmE,QAAO,SAAA/B,GAAO,OACxBA,EAAQ5B,KAAKyC,cAAcuB,SAASL,EAAOlB,kBAIzCwB,GACJ,SAACC,EAAA,EAAD,CAAW5C,UAAWC,EAAAA,aAAtB,SACG/B,GACCuE,EAAaI,KAAI,gBAAGnE,EAAH,EAAGA,KAAM6B,EAAT,EAASA,GAAI5B,EAAb,EAAaA,OAAb,OACf,UAACiE,EAAA,OAAD,CAAgB5C,UAAWC,EAAAA,SAA0BM,GAAIA,EAAzD,WACE,iBAAKP,UAAWC,EAAAA,KAAhB,WACE,kBAAMD,UAAWC,EAAAA,YAAjB,UAAsCvB,EAAtC,SACA,iBAAMsB,UAAWC,EAAAA,YAAjB,SAAsCtB,QAExC,SAAC+C,EAAA,EAAD,CACEC,QAAQ,UACRJ,KAAK,SACLuB,QAAS,SAAAC,GAAK,OA1BP,SAAAA,GACjBZ,EAAcY,EAAMhC,cAAciC,WAAWzC,IACxC6B,IACHW,EAAMhC,cAAckC,UAAY,gBAElC9E,IAqB4B+E,CAAWH,IAH/B,8BAL+CxC,QAiBzD,OAAOhC,GACL,wCACkB,IAAhBL,EAAKiF,OACPR,EAEA,wBCpDSS,EAAgB,WAC3B,IAAMC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,SAACpD,EAAA,EAAD,WACE,SAACA,EAAA,QAAD,CAAYF,UAAU,OAAOa,UAAU,iBAAvC,UACE,SAACX,EAAA,UAAD,CACEqB,KAAK,OACLC,YAAY,YACZV,SAAU,SAAAV,GAAC,OAAIiD,GAASE,EAAAA,EAAAA,IAAUnD,EAAEW,cAAcE,gB,oBCgC5D,EApCqB,WACnB,IAAMoC,GAAWC,EAAAA,EAAAA,MAgBjB,OAfAd,EAAAA,EAAAA,YAAU,WACRa,EAASG,EAAAA,GAAAA,oBACNC,SACAC,OAAM,WACLjD,EAAAA,OAAAA,QACE,0DACA,IAEF4C,EAASG,EAAAA,GAAAA,eAEZ,CAACH,KAE0Bf,EAAAA,EAAAA,IAC5BqB,EAAAA,GAAAA,2BAEgC,SAACC,EAAA,EAAD,KAGhC,SAAC/B,EAAD,WACE,gBAAI7B,UAAWC,EAAf,WACE,gBAAID,UAAWC,EAAf,WACE,eAAID,UAAWC,EAAf,gCACA,SAACrC,EAAD,KACA,eAAIoC,UAAWC,EAAf,4BACA,SAACmD,EAAD,QAEF,gBAAIpD,UAAWC,EAAf,WACE,eAAID,UAAWC,EAAf,+BACA,SAACgC,EAAD","sources":["webpack://goit-react-hw-08-phonebook/./src/views/ContactsView/ContactsView.module.css?919f","components/RegEx/RegEx.js","webpack://goit-react-hw-08-phonebook/./src/components/Forms/ContactForm/ContactForm.module.css?983c","components/Forms/ContactForm/ContactForm.jsx","webpack://goit-react-hw-08-phonebook/./src/components/Container/Container.module.css?9f71","components/Container/Container.jsx","webpack://goit-react-hw-08-phonebook/./src/components/ContactsList/ContactsList.module.css?d8e9","components/ContactsList/ContactsList.jsx","components/ContactFilter/ContactFilter.jsx","views/ContactsView/ContactsView.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"contactContainer\":\"ContactsView_contactContainer__e8eeD\",\"contactscVies\":\"ContactsView_contactscVies__pEVSb\",\"item\":\"ContactsView_item__Aff2J\",\"contactsTitle\":\"ContactsView_contactsTitle__+M+J9\"};","const nameRegex = /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/;\nconst phoneRegExp =\n  /^((\\\\+[1-9]{1,4}[ \\\\-]*)|[(\\+\\(\\))]|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n\nconst regEx = { nameRegex, phoneRegExp };\n\nexport default regEx;\n","// extracted by mini-css-extract-plugin\nexport default {\"contactForm\":\"ContactForm_contactForm__FkOKX\"};","import { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport shortid from 'shortid';\nimport { yupResolver } from '@hookform/resolvers/yup/dist/yup';\n\nimport * as Yup from 'yup';\nimport {\n  useCreateContactMutation,\n  useGetContactsQuery,\n} from '../../../redux/contacts/contactsApi';\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport regEx from '../../RegEx/RegEx';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport styles from './ContactForm.module.css';\n\nexport const ContactForm = () => {\n  const [isDisabled, setIsDisabled] = useState(true);\n  const { data: contacts, refetch } = useGetContactsQuery();\n  const [addContact, { isLoading: isUpdating, isSuccess: successfullyAdded }] =\n    useCreateContactMutation();\n  const initState = {\n    name: '',\n    number: '',\n  };\n\n  const [initialValues, setInitialValues] = useState(initState);\n  const validationSchema = Yup.object().shape({\n    name: Yup.string()\n      .required('Name is required')\n      .min(6, 'Name must be at least 6 characters')\n      .max(20, 'Name must not exceed 20 characters')\n      .matches(\n        regEx.nameRegex,\n        'Name is not valid its should contain only alphabet letters'\n      ),\n    number: Yup.string().matches(\n      regEx.phoneRegExp,\n      'Phone number is not valid its should contain only numbers'\n    ),\n  });\n  const {\n    register,\n    resetField,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    mode: 'onTouched',\n    reValidateMode: 'onChange',\n    defaultValues: initialValues,\n    resolver: yupResolver(validationSchema),\n  });\n\n  const disabledStatus = e => {\n    const name = e.currentTarget.childNodes[1].value;\n    const contactFinder = contacts.find(\n      contact =>\n        contact.name.toLowerCase() ===\n        name.toLowerCase().replace(/ +/g, ' ').trim()\n    );\n    if (contactFinder) {\n      setIsDisabled(true);\n      return Notify.warning(`${name} is already in contacts.`);\n    }\n    setIsDisabled(false);\n  };\n\n  const resetAllFields = () => {\n    resetField('name');\n    resetField('number');\n  };\n  const onSubmit = (data, e) => {\n    e.preventDefault();\n    const { name, number } = data;\n    e.preventDefault();\n\n    const contact = {\n      id: shortid.generate(),\n      name,\n      number,\n    };\n    if (successfullyAdded) {\n      Notify.success(`Contact ${data.name} added successfully`);\n    }\n    addContact(contact);\n    refetch();\n    resetAllFields();\n  };\n\n  const onError = error => {\n    console.log('ERROR:::', error);\n  };\n\n  return (\n    <div className={styles.contactForm}>\n      <Form onSubmit={handleSubmit(onSubmit, onError)}>\n        <Form.Group\n          className=\"mb-3\"\n          controlId=\"formBasicTextName\"\n          onChange={e => {\n            disabledStatus(e);\n          }}\n        >\n          <Form.Label>Contact name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter contact name\"\n            {...register('name')}\n          />\n          {errors.name && (\n            <Form.Text className=\"text-danger\">{errors.name.message}</Form.Text>\n          )}\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPhoneNumber\">\n          <Form.Label>Phone number</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter contact phohe number\"\n            {...register('number')}\n          />\n          {errors.number && (\n            <Form.Text className=\"text-danger\">\n              {errors.number.message}\n            </Form.Text>\n          )}\n        </Form.Group>\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          disabled={isDisabled}\n          // disabled={errors.number || errors.name}\n        >\n          {isUpdating ? <>Adding...</> : <>Add contact</>}\n        </Button>\n      </Form>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__8322i\"};","import styles from './Container.module.css';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nexport const Container = ({ className, children }) => {\n  const classList = cx(styles.container, className);\n  return <div className={classList}>{children}</div>;\n};\n\nContainer.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"listItem\":\"ContactsList_listItem__Elj+5\",\"info\":\"ContactsList_info__hjGaA\"};","import styles from './ContactsList.module.css';\n\nimport { useSelector } from 'react-redux';\nimport {\n  useGetContactsQuery,\n  useDeleteContactMutation,\n} from '../../redux/contacts/contactsApi';\nimport React, { useEffect } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { ListGroup } from 'react-bootstrap';\nimport { getFilter } from '../../redux/contacts/contactsSlice';\n\nexport const ContactList = () => {\n  const { data, isLoading, refetch } = useGetContactsQuery();\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n  const { filter } = useSelector(getFilter);\n  useEffect(() => {\n    refetch();\n  }, [refetch]);\n  const deleteItem = event => {\n    deleteContact(event.currentTarget.parentNode.id);\n    if (!isDeleting) {\n      event.currentTarget.innerHTML = 'Deleting ...';\n    }\n    refetch();\n  };\n  useEffect(() => {}, [refetch]);\n  const filteredContacts = () => {\n    return data.filter(contact =>\n      contact.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  };\n  let renderedData = filter === '' ? data : filteredContacts();\n  const renderList = (\n    <ListGroup className={styles.contactsList}>\n      {data &&\n        renderedData.map(({ name, id, number }) => (\n          <ListGroup.Item className={styles.listItem} key={id} id={id}>\n            <div className={styles.info}>\n              <span className={styles.contactName}>{name}: </span>\n              <span className={styles.phoneNumber}>{number}</span>\n            </div>\n            <Button\n              variant=\"primary\"\n              type=\"button\"\n              onClick={event => deleteItem(event)}\n            >\n              Delete contact\n            </Button>\n          </ListGroup.Item>\n        ))}\n    </ListGroup>\n  );\n\n  return isLoading ? (\n    <div>loading...</div>\n  ) : data.length !== 0 ? (\n    renderList\n  ) : (\n    'You have no contacts'\n  );\n};\n","import styles from './ContactFilter.module.css';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { setFilter, getFilter } from '../../redux/contacts/contactsSlice';\n\nimport Form from 'react-bootstrap/Form';\n\nexport const ContactFilter = () => {\n  const dispatch = useDispatch();\n\n  return (\n    <Form>\n      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Search...\"\n          onChange={e => dispatch(setFilter(e.currentTarget.value))}\n        />\n      </Form.Group>\n    </Form>\n  );\n};\n","import styles from './ContactsView.module.css';\n\nimport { ContactForm } from '../../components/Forms/ContactForm';\nimport { Container } from '../../components/Container/Container';\nimport { ContactList } from '../../components/ContactsList';\nimport { ContactFilter } from '../../components/ContactFilter/ContactFilter';\nimport { authOperations, authSelectors } from '../../redux/auth';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport Loader from '../../components/UI/Loader/Loader';\n\nconst ContactsView = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser())\n      .unwrap()\n      .catch(() => {\n        Notify.warning(\n          'Sorry, your authorization token expired, please relogin',\n          {}\n        );\n        dispatch(authOperations.logOut());\n      });\n  }, [dispatch]);\n\n  const isFetchingCurrentUser = useSelector(\n    authSelectors.getIsFetchingCurrentUser\n  );\n  if (isFetchingCurrentUser) return <Loader />;\n\n  return (\n    <Container>\n      <ul className={styles.contactscVies}>\n        <li className={styles.item}>\n          <h4 className={styles.contactsTitle}>Add contacts info</h4>\n          <ContactForm />\n          <h4 className={styles.contactsTitle}>Find contacts</h4>\n          <ContactFilter />\n        </li>\n        <li className={styles.item}>\n          <h4 className={styles.contactsTitle}>List of Contacts</h4>\n          <ContactList />\n        </li>\n      </ul>\n    </Container>\n  );\n};\nexport default ContactsView;\n"],"names":["nameRegex","phoneRegExp","ContactForm","useState","isDisabled","setIsDisabled","useGetContactsQuery","contacts","data","refetch","useCreateContactMutation","addContact","isUpdating","isLoading","successfullyAdded","isSuccess","name","number","initialValues","validationSchema","Yup","shape","required","min","max","matches","regEx","useForm","mode","reValidateMode","defaultValues","resolver","yupResolver","register","resetField","handleSubmit","errors","formState","className","styles","Form","onSubmit","e","preventDefault","contact","id","shortid","Notify","error","console","log","controlId","onChange","currentTarget","childNodes","value","find","toLowerCase","replace","trim","disabledStatus","type","placeholder","message","Button","variant","disabled","Container","children","classList","cx","ContactList","useDeleteContactMutation","deleteContact","isDeleting","filter","useSelector","getFilter","useEffect","renderedData","includes","renderList","ListGroup","map","onClick","event","parentNode","innerHTML","deleteItem","length","ContactFilter","dispatch","useDispatch","setFilter","authOperations","unwrap","catch","authSelectors","Loader"],"sourceRoot":""}